{"ast":null,"code":"import * as L from 'leaflet';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../location.service\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/forms\";\nexport let MapComponent = /*#__PURE__*/(() => {\n  class MapComponent {\n    constructor(locationService, http) {\n      this.locationService = locationService;\n      this.http = http;\n      this.note = '';\n      this.selectedLat = null;\n      this.selectedLng = null;\n    }\n    ngOnInit() {\n      try {\n        this.initMap();\n      } catch (error) {\n        console.error('Harita yüklenemedi:', error);\n      }\n    }\n    initMap() {\n      this.map = L.map('map').setView([39.92077, 32.85411], 6);\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        maxZoom: 19\n      }).addTo(this.map);\n      this.map.on('click', event => {\n        const {\n          lat,\n          lng\n        } = event.latlng;\n        this.selectedLat = lat;\n        this.selectedLng = lng;\n        console.log(`Selected Location: ${lat}, ${lng}`);\n      });\n    }\n    saveLocation() {\n      if (this.selectedLat && this.selectedLng && this.note) {\n        const location = {\n          latitude: this.selectedLat,\n          longitude: this.selectedLng,\n          note: this.note\n        };\n        this.locationService.addLocation(location).subscribe(response => {\n          console.log('Location saved:', response);\n          alert('Konum kaydedildi!');\n        });\n      } else {\n        alert('Lütfen bir konum seçin ve bir not girin!');\n      }\n    }\n    testBackend() {\n      this.http.get('http://localhost:3000/test-db', {\n        responseType: 'text'\n      }).subscribe(response => {\n        console.log('Backend bağlantısı başarılı:', response);\n      }, error => {\n        console.error('Backend bağlantısı hatası:', error);\n      });\n    }\n    static {\n      this.ɵfac = function MapComponent_Factory(t) {\n        return new (t || MapComponent)(i0.ɵɵdirectiveInject(i1.LocationService), i0.ɵɵdirectiveInject(i2.HttpClient));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: MapComponent,\n        selectors: [[\"app-map\"]],\n        decls: 9,\n        vars: 1,\n        consts: [[\"id\", \"map\", 2, \"height\", \"500px\", \"width\", \"100%\"], [\"for\", \"note\"], [\"id\", \"note\", \"placeholder\", \"Bir not ekleyin\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"]],\n        template: function MapComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelement(0, \"div\", 0);\n            i0.ɵɵelementStart(1, \"div\")(2, \"label\", 1);\n            i0.ɵɵtext(3, \"Not:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"input\", 2);\n            i0.ɵɵlistener(\"ngModelChange\", function MapComponent_Template_input_ngModelChange_4_listener($event) {\n              return ctx.note = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function MapComponent_Template_button_click_5_listener() {\n              return ctx.saveLocation();\n            });\n            i0.ɵɵtext(6, \"Konumu Kaydet\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function MapComponent_Template_button_click_7_listener() {\n              return ctx.testBackend();\n            });\n            i0.ɵɵtext(8, \"Backend Ba\\u011Flant\\u0131s\\u0131n\\u0131 Test Et\");\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.note);\n          }\n        },\n        dependencies: [i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n        styles: [\"#map[_ngcontent-%COMP%]{height:500px;width:100%}\"]\n      });\n    }\n  }\n  return MapComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}