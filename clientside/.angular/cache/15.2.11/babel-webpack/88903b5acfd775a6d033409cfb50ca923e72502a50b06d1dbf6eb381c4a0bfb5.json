{"ast":null,"code":"import * as L from 'leaflet';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nexport class MapComponent {\n  constructor(http) {\n    this.http = http;\n    this.selectedLat = null;\n    this.selectedLng = null;\n    this.note = '';\n  }\n  ngOnInit() {\n    this.map = L.map('map').setView([39.92077, 32.85411], 6);\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; OpenStreetMap contributors'\n    }).addTo(this.map);\n    this.map.on('click', e => {\n      this.selectedLat = e.latlng.lat;\n      this.selectedLng = e.latlng.lng;\n    });\n  }\n  saveLocation() {\n    if (this.selectedLat && this.selectedLng && this.note) {\n      this.http.post('http://localhost:3000/locations', {\n        latitude: this.selectedLat,\n        longitude: this.selectedLng,\n        note: this.note\n      }).subscribe(response => {\n        console.log('Konum kaydedildi:', response);\n      });\n    }\n  }\n  static {\n    this.ɵfac = function MapComponent_Factory(t) {\n      return new (t || MapComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MapComponent,\n      selectors: [[\"app-map\"]],\n      decls: 7,\n      vars: 1,\n      consts: [[\"id\", \"map\", 2, \"height\", \"500px\"], [\"placeholder\", \"Bir not ekleyin\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"]],\n      template: function MapComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"div\", 0);\n          i0.ɵɵelementStart(1, \"div\")(2, \"label\");\n          i0.ɵɵtext(3, \"Not:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"input\", 1);\n          i0.ɵɵlistener(\"ngModelChange\", function MapComponent_Template_input_ngModelChange_4_listener($event) {\n            return ctx.note = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"button\", 2);\n          i0.ɵɵlistener(\"click\", function MapComponent_Template_button_click_5_listener() {\n            return ctx.saveLocation();\n          });\n          i0.ɵɵtext(6, \"Konumu Kaydet\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.note);\n        }\n      },\n      dependencies: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n      styles: [\"#map[_ngcontent-%COMP%] {\\n  height: 500px;\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWFwL21hcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSxXQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIjbWFwIHtcclxuICBoZWlnaHQ6IDUwMHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AACA,OAAO,KAAKA,CAAC,MAAM,SAAS;;;;AAQ5B,OAAM,MAAOC,YAAY;EAMvBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAJxB,gBAAW,GAAkB,IAAI;IACjC,gBAAW,GAAkB,IAAI;IACjC,SAAI,GAAW,EAAE;EAEsB;EAEvCC,QAAQ;IACN,IAAI,CAACC,GAAG,GAAGL,CAAC,CAACK,GAAG,CAAC,KAAK,CAAC,CAACC,OAAO,CAAC,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;IAExDN,CAAC,CAACO,SAAS,CAAC,oDAAoD,EAAE;MAC9DC,WAAW,EAAE;KAChB,CAAC,CAACC,KAAK,CAAC,IAAI,CAACJ,GAAG,CAAC;IAElB,IAAI,CAACA,GAAG,CAACK,EAAE,CAAC,OAAO,EAAGC,CAAM,IAAI;MAC5B,IAAI,CAACC,WAAW,GAAGD,CAAC,CAACE,MAAM,CAACC,GAAG;MAC/B,IAAI,CAACC,WAAW,GAAGJ,CAAC,CAACE,MAAM,CAACG,GAAG;IACnC,CAAC,CAAC;EACN;EAEAC,YAAY;IACR,IAAI,IAAI,CAACL,WAAW,IAAI,IAAI,CAACG,WAAW,IAAI,IAAI,CAACG,IAAI,EAAE;MACnD,IAAI,CAACf,IAAI,CACJgB,IAAI,CAAC,iCAAiC,EAAE;QACrCC,QAAQ,EAAE,IAAI,CAACR,WAAW;QAC1BS,SAAS,EAAE,IAAI,CAACN,WAAW;QAC3BG,IAAI,EAAE,IAAI,CAACA;OACd,CAAC,CACDI,SAAS,CAAEC,QAAQ,IAAI;QACpBC,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEF,QAAQ,CAAC;MAC9C,CAAC,CAAC;;EAEd;;;uBAjCatB,YAAY;IAAA;EAAA;;;YAAZA,YAAY;MAAAyB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UCTzBC,yBAA2C;UAC3CA,2BAAK;UACMA,oBAAI;UAAAA,iBAAQ;UACnBA,gCAA0D;UAAnDA;YAAA;UAAA,EAAkB;UAAzBA,iBAA0D;UAC1DA,iCAAiC;UAAzBA;YAAA,OAASC,kBAAc;UAAA,EAAC;UAACD,6BAAa;UAAAA,iBAAS;;;UADhDA,eAAkB;UAAlBA,kCAAkB","names":["L","MapComponent","constructor","http","ngOnInit","map","setView","tileLayer","attribution","addTo","on","e","selectedLat","latlng","lat","selectedLng","lng","saveLocation","note","post","latitude","longitude","subscribe","response","console","log","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\meryem\\Desktop\\duyg\\my-angular-map\\src\\app\\map\\map.component.ts","C:\\Users\\meryem\\Desktop\\duyg\\my-angular-map\\src\\app\\map\\map.component.html"],"sourcesContent":["import { Component, OnInit, AfterViewInit } from '@angular/core';\nimport * as L from 'leaflet';\nimport { ItemService } from '../item.service';\nimport { HttpClient } from '@angular/common/http';\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.scss']\n})\nexport class MapComponent implements OnInit {\n  private map: any;\n  selectedLat: number | null = null;\n  selectedLng: number | null = null;\n  note: string = '';\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit(): void {\n    this.map = L.map('map').setView([39.92077, 32.85411], 6);\n\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '&copy; OpenStreetMap contributors',\n    }).addTo(this.map);\n\n    this.map.on('click', (e: any) => {\n        this.selectedLat = e.latlng.lat;\n        this.selectedLng = e.latlng.lng;\n    });\n}\n\nsaveLocation(): void {\n    if (this.selectedLat && this.selectedLng && this.note) {\n        this.http\n            .post('http://localhost:3000/locations', {\n                latitude: this.selectedLat,\n                longitude: this.selectedLng,\n                note: this.note,\n            })\n            .subscribe((response) => {\n                console.log('Konum kaydedildi:', response);\n            });\n    }\n}\n\n\n}\n","<div id=\"map\" style=\"height: 500px;\"></div>\n<div>\n    <label>Not:</label>\n    <input [(ngModel)]=\"note\" placeholder=\"Bir not ekleyin\" />\n    <button (click)=\"saveLocation()\">Konumu Kaydet</button>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}